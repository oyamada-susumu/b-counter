<!DOCTYPE html>
<html>
<head><title>15C Assembler</title></head>
<body bgcolor="#f0f0f0">
<center>
<table id="memTbl">
<tr>
    <td colspan="4">アセンブリ言語</td>
    <td></td><td>
    <td colspan="2">中央処理装置</td>
    <td></td>
    <td colspan="3">機械語</td>
</tr>
<tr>
    <td>番地</td>
    <td>オペコード</td>
    <td>オペランド1</td>
    <td>オペランド2</td>
    <td>--</td>
    <td>--</td> 
    <td>値</td>
    <td></td><td></td>
    <td>opcode</td>
    <td>operand1</td>
    <td>operand2</td>
</tr>
<tr>
    <td>0</td>
    <td><input type="text" style="border:none" id="text1_1" value=""></td>
    <td><input type="text" style="border:none" id="text1_2" value=""></td>
    <td><input type="text" style="border:none" id="text1_3" value=""></td>
    <td><input type="radio" id="line0" name="lineSelect"></td>
    <td></td>
    <td><id="text1_5">プログラムカウンタ</td>
    <td><input type="number" id="text_program_counter" value="1"></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>1</td>
    <td><input type="text" style="border:none" id="text2_1" value="READ"></td>
    <td><input type="text" style="border:none" id="text2_2" value="A"></td>
    <td><input type="text" style="border:none" id="text2_3" value="10"></td>
    <td><input type="radio" id="line1" name="lineSelect"></td>
    <td></td> 
    <td>命令レジスタ</td>
    <td><id="text_instraction_register"> </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text3_0">2</td>
    <td><input type="text" style="border:none" id="text3_1" value="ADD"></td>
    <td><input type="text" style="border:none" id="text3_2" value="A"></td>
    <td><input type="text" style="border:none" id="text3_3" value="11"></td>
    <td><input type="radio" id="line2" name="lineSelect"></td>
    <td></td>
    <td>命令読解器</td>
    <td><id="text_instraction_decoda" > </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>3</td>  
    <td><input type="text" style="border:none" id="text4_1" value="WRITE"></td>
    <td><input type="text" style="border:none" id="text4_2" value="12"></td>
    <td><input type="text" style="border:none" id="text4_3" value="A"></td>
    <td><input type="radio" id="line3" name="lineSelect"></td> 
    <td></td>
    <td>レジスタA </td>
    <td><id="text_register_a"> </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>4</td>
    <td><input type="text" style="border:none" id="text5_1" value="STOP"></td>
    <td><input type="text" style="border:none" id="text5_2" value=""></td>
    <td><input type="text" style="border:none" id="text5_3" value=""></td>
    <td><input type="radio" id="line4" name="lineSelect"></td> 
    <td></td>
    <td>レジスタB</td>
    <td><id="text_register_b"> </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>5</td>
    <td><input type="text" style="border:none" id="text6_1" value=""></td>
    <td><input type="text" style="border:none" id="text6_2" value=""></td>
    <td><input type="text" style="border:none" id="text6_3" value=""></td>
    <td><input type="radio" id="line5" name="lineSelect"></td> 
    <td></td>
    <td><id="text6_5">フラグレジスタZF</td>
    <td><id="text_flag_regisdter_zero"> </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>6</td>
    <td><input type="text" style="border:none" id="text7_1" value=""></td>
    <td><input type="text" style="border:none" id="text7_2" value="""></td>
    <td><input type="text" style="border:none" id="text7_3" value=""></td>
    <td><input type="radio" id="line6" name="lineSelect"></td> 
    <td></td>
    <td>演算装置</td>
    <td><id="text_accumlater"> </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>7</td>
    <td><input type="text" style="border:none" id="text8_1" value=""></td>
    <td><input type="text" style="border:none" style="border:none" id="text8_2" value=""></td>
    <td><input type="text" style="border:none" id="text8_3" value=""></td>
    <td><input type="radio" id="line7" name="lineSelect"></td> 
    <td></td>
    <td><input type="button" id="pushButtonSet" value="セット"></td>
    <td></td>
    <td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>8</td>
    <td><input type="text" style="border:none" id="text9_1" value=""></td>
    <td><input type="text" style="border:none" id="text9_2" value=""></td> 
    <td><input type="text" style="border:none" id="text9_3" value=""></td>
    <td><input type="radio" id="line8" name="lineSelect"></td> 
    <td></td>
    <td><input type="button" id="pushButtonStep" value="1ステップ実行"> </td>
    <td></td>
    <td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>9</td>
    <td><input type="text" style="border:none" id="text10_1" value=""></td>
    <td><input type="text" style="border:none" id="text10_2" value=""></td>
    <td><input type="text" style="border:none" id="text10_3" value=""></td>
    <td><input type="radio" id="line9" name="lineSelect"></td> 
    <td></td>
    <td><input type="button" id="pushButtonRun" value="最後まで実行"> </td>
    <td></td>
    <td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>10</td>
    <td><input type="text" style="border:none" id="text11_1" value="DATA"></td>
    <td><input type="text" style="border:none" id="text11_2" value="3"></td>
    <td><input type="text" style="border:none" id="text11_3" value=""></td>
    <td><input type="radio" id="line10" name="lineSelect"></td>
    <td></td> 
    <td><input type="button" id="pushButtonStop" value="停止"> </td>
    <td></td>
    <td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td>11</td>
    <td><input type="text" style="border:none" id="text12_1" value="DATA"></td>
    <td><input type="text" style="border:none" id="text12_2" value="5"></td>
    <td><input type="text" style="border:none" id="text12_3" value=""></td>
    <td><input type="radio" id="line11" name="lineSelect"></td> 
    <td></td>
    <td></td>
    <td><type="text" id="text12_6"> </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text13_0">12</td>
    <td><input type="text" style="border:none" id="text13_1" value=""></td>
    <td><input type="text" style="border:none" id="text13_2" value=""></td>
    <td><input type="text" style="border:none" id="text13_3" value=""></td>
    <td><input type="radio" id="line12" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text14_0">13</td>
    <td><input type="text" style="border:none" id="text14_1" value=""></td>
    <td><input type="text" style="border:none" id="text14_2" value=""></td>
    <td><input type="text" style="border:none" id="text14_3" value=""></td>
    <td><input type="radio" id="line13" name="lineSelect"></td>
    <td></td>
    <td>オペコード</td>
    <td>オペランド1</td>
    <td>オペランド2</td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text15_0">14</td>
    <td><input type="text" style="border:none" id="text15_1" value=""></td>
    <td><input type="text" style="border:none" id="text15_2" value=""></td>
    <td><input type="text" style="border:none" id="text15_3" value=""></td>
    <td><input type="radio" id="line14" name="lineSelect"></td>
    <td></td>
    <td>
        <select id="opc">
            <option value="read">DATA</option>
            <option value="read">READ</option>
            <option value="write">WRITE</option>
            <option value="add">ADD</option>
            <option value="sub">SUB</option>
            <option value="jnz">JNZ</option>
            <option value="stop">STOP</option>
            <option value="nop">NOP</option>
        </select>
    </td> 
    <td>
        <select id="opr1">
            <option value="spc">----</option>
            <option value="rega">A</option>
            <option value="regb">B</option>
            <option value="n0">0</option>
            <option value="n1">1</option>
            <option value="n2">2</option>
            <option value="n3">3</option>
            <option value="n4">4</option>
            <option value="n5">5</option>
            <option value="n6">6</option>
            <option value="n7">7</option>
            <option value="n8">8</option>
            <option value="n9">9</option>
            <option value="n10">10</option>
            <option value="n11">11</option>
            <option value="n12">12</option>
            <option value="n13">13</option>
            <option value="n14">14</option>
            <option value="n15">15</option>
            <option value="n16">16</option>
            <option value="n17">17</option>
            <option value="n18">18</option>
            <option value="n19">19</option>
            <option value="n20">20</option>
            <option value="n21">21</option>
            <option value="n22">22</option>
            <option value="n23">23</option>
            <option value="n24">24</option>
            <option value="n25">25</option>
            <option value="n26">26</option>
            <option value="n27">27</option>
            <option value="n28">28</option>
            <option value="n29">29</option>            
        </select>
    </td>
    <td>
        <select id="opr2">
            <option value="spc">----</option>
            <option value="rega">A</option>
            <option value="regb">B</option>
            <option value="n0">0</option>
            <option value="n1">1</option>
            <option value="n2">2</option>
            <option value="n3">3</option>
            <option value="n4">4</option>
            <option value="n5">5</option>
            <option value="n6">6</option>
            <option value="n7">7</option>
            <option value="n8">8</option>
            <option value="n9">9</option>
            <option value="n10">10</option>
            <option value="n11">11</option>
            <option value="n12">12</option>
            <option value="n13">13</option>
            <option value="n14">14</option>
            <option value="n15">15</option>
            <option value="n16">16</option>
            <option value="n17">17</option>
            <option value="n18">18</option>
            <option value="n19">19</option>
            <option value="n20">20</option>
            <option value="n21">21</option>
            <option value="n22">22</option>
            <option value="n23">23</option>
            <option value="n24">24</option>
            <option value="n25">25</option>
            <option value="n26">26</option>
            <option value="n27">27</option>
            <option value="n28">28</option>
            <option value="n29">29</option>            
        </select>
    </td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text16_0">15</td>
    <td><input type="text" style="border:none" id="text16_1" value=""></td>
    <td><input type="text" style="border:none" id="text16_2" value=""></td>
    <td><input type="text" style="border:none" id="text16_3" value=""></td>
    <td><input type="radio" id="line15" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text17_0">16</td>
    <td><input type="text" style="border:none" id="text17_1" value=""></td>
    <td><input type="text" style="border:none" id="text17_2" value=""></td>
    <td><input type="text" style="border:none" id="text17_3" value=""></td>
    <td><input type="radio" id="line16" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text18_0">17</td>
    <td><input type="text" style="border:none" id="text18_1" value=""></td>
    <td><input type="text" style="border:none" id="text18_2" value=""></td>
    <td><input type="text" style="border:none" id="text18_3" value=""></td>
    <td><input type="radio" id="line17" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text19_0">18</td>
    <td><input type="text" style="border:none" id="text19_1" value=""></td>
    <td><input type="text" style="border:none" id="text19_2" value=""></td>
    <td><input type="text" style="border:none" id="text19_3" value=""></td>
    <td><input type="radio" id="line18" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text20_0">19</td>
    <td><input type="text" style="border:none" id="text20_1" value=""></td>
    <td><input type="text" style="border:none" id="text20_2" value=""></td>
    <td><input type="text" style="border:none" id="text20_3" value=""></td>
    <td><input type="radio" id="line19" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text21_0">20</td>
    <td><input type="text" style="border:none" id="text21_1" value=""></td>
    <td><input type="text" style="border:none" id="text21_2" value=""></td>
    <td><input type="text" style="border:none" id="text21_3" value=""></td>
    <td><input type="radio" id="line20" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text22_0">21</td>
    <td><input type="text" style="border:none" id="text22_1" value=""></td>
    <td><input type="text" style="border:none" id="text22_2" value=""></td>
    <td><input type="text" style="border:none" id="text22_3" value=""></td>
    <td><input type="radio" id="line21" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text23_0">22</td>
    <td><input type="text" style="border:none" id="text23_1" value=""></td>
    <td><input type="text" style="border:none" id="text23_2" value=""></td>
    <td><input type="text" style="border:none" id="text23_3" value=""></td>
    <td><input type="radio" id="line22" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text24_0">23</td>
    <td><input type="text" style="border:none" id="text24_1" value=""></td>
    <td><input type="text" style="border:none" id="text24_2" value=""></td>
    <td><input type="text" style="border:none" id="text24_3" value=""></td>
    <td><input type="radio" id="line23" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text25_0">24</td>
    <td><input type="text" style="border:none" id="text25_1" value=""></td>
    <td><input type="text" style="border:none" id="text25_2" value=""></td>
    <td><input type="text" style="border:none" id="text25_3" value=""></td>
    <td><input type="radio" id="line24" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text26_0">25</td>
    <td><input type="text" style="border:none" id="text26_1" value=""></td>
    <td><input type="text" style="border:none" id="text26_2" value=""></td>
    <td><input type="text" style="border:none" id="text26_3" value=""></td>
    <td><input type="radio" id="line25" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text27_0">26</td>
    <td><input type="text" style="border:none" id="text27_1" value=""></td>
    <td><input type="text" style="border:none" id="text27_2" value=""></td>
    <td><input type="text" style="border:none" id="text27_3" value=""></td>
    <td><input type="radio" id="line26" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text28_0">27</td>
    <td><input type="text" style="border:none" id="text28_1" value=""></td>
    <td><input type="text" style="border:none" id="text28_2" value=""></td>
    <td><input type="text" style="border:none" id="text28_3" value=""></td>
    <td><input type="radio" id="line27" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text29_0">28</td>
    <td><input type="text" style="border:none" id="text29_1" value=""></td>
    <td><input type="text" style="border:none" id="text29_2" value=""></td>
    <td><input type="text" style="border:none" id="text29_3" value=""></td>
    <td><input type="radio" id="line28" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
<tr>
    <td><id="text30_0">29</td>
    <td><input type="text" style="border:none" id="text30_1" value=""></td>
    <td><input type="text" style="border:none" id="text30_2" value=""></td>
    <td><input type="text" style="border:none" id="text30_3" value=""></td>
    <td><input type="radio" id="line29" name="lineSelect"></td> 
    <td></td><td></td><td></td><td></td>
    <td></td><td></td><td></td><td></td>
</tr>
</table>
</center>

<script>
window.onload = function(){
/*memTbl.style.textAlign = "center"; */
/*memTbl.style.verticalAlign = "middle"; */
/* # Python15B (学習ノートP37も可) */
/* # 疑似言語の命令コードを定義する。*/
READ=1; WRITE=2; ADD=3; STOP=4; SUB=5; JNZ=8; DATA=9;
A=6; B=7;                 /* # Aレジスタ、Bレジスタ */
NUL = null;               /* # nullは予約語 空欄 何もしない 何もない ヌル */
n=["","READ","WRITE","ADD","STOP","SUB","A","B","JNZ","DATA"];
/* # 主記憶(メモリ)この下にプログラムやデータを記入する。 */
m=[];
/* # [c0, c1, c2, c3] # */
m.push([0, NUL, NUL, NUL]);
m.push([1, READ, A, 12]);
m.push([2, READ, B, 11]);
m.push([3, ADD, A, 10]);
m.push([4, SUB, B, 13]);
m.push([5, JNZ, 3, NUL]);
m.push([6, WRITE, 12, A]);
m.push([7, STOP, NUL, NUL]);
m.push([8, NUL, NUL, NUL]);
m.push([9, NUL, NUL, NUL]);
m.push([10,DATA, 5, NUL]);      /* # 5×2=10 */
m.push([11,DATA, 2, NUL]);
m.push([12,DATA, 0, NUL]);      /* #計算結果が入る */
m.push([13,DATA, 1, NUL]);      /* #定数1 2-1=1,1-1=0 */
m.push([14,NUL, NUL, NUL]);
m.push([15, NUL, NUL, NUL]);
m.push([16, READ, A, 12]);
m.push([17, READ, B, 11]);
m.push([18, ADD, A, 10]);
m.push([19, SUB, B, 13]);
m.push([20, JNZ, 3, NUL]);
m.push([21, WRITE, 12, A]);
m.push([22, STOP, NUL, NUL]);
m.push([23, NUL, NUL, NUL]);
m.push([24, NUL, NUL, NUL]);
m.push([25,DATA, 5, NUL]);      /* # 5×2=10 */
m.push([26,DATA, 2, NUL]);
m.push([27,DATA, 0, NUL]);      /* #計算結果が入る */
m.push([28,DATA, 1, NUL]);      /* #定数1 2-1=1,1-1=0 */
m.push([29,DATA, 99, 99]);
p=1;            /* #プログラムカウンタに0を代入する。*/
rega=0;regb=0;  /* #レジスタAに0，レジスタBに0を代入する。 */
regf=0;         /* #フラグレジスタに0を代入する。 演算結果が0のときに１，それ以外は0 */
text12_6.innerHTML=m.length
displayMemory(m);
// memdump(m)
}
pushButtonStep.onclick = function() {   
} 
pushButtonRun.onclick = function() {
}
pushButtonStop.onclick = function() {
}
function displayMemory(x){
    for(i=1 ; i<x.length; i++) {
        for(t=1; t<4; t++) {            
            if(m[i][t] != null) {
                memTbl.rows[i+2].cells[t+8].innerHTML=decimal_to_binary(m[i][t]);
            } else {
                memTbl.rows[i+2].cells[t+8].innerHTML=null;
            }
        }
    }
}
function displayMemory2(x){
    for(i =1 ; i < x.length; i++) {
    memTbl.rows[i].cells[10].innerHTML=decimal_to_binary(x[i][1]);
    memTbl.rows[i].cells[11].innerHTML=decimal_to_binary(x[i][2]);
    memTbl.rows[i].cells[12].innerHTML=decimal_to_binary(x[i][3]);
    }    
}
function decimal_to_binary(x){
    a=[]; b=[]; c="";
    for(j=0; j<8; j++) {
        a[j] = x % 2;
        x = Math.floor(x/2);
    }
    for(k=0; k<8; k++) {
        b[7-k]=a[k];
    }
    for(l=0; l<8; l++) {
        c=c+String(b[l]);
    }
    return c;
}
function main(){
while (m[p][1] != STOP) {      /* #STOPでない間以下を繰り返す。 */
/* #c0=行番号,c1=命令,c2=レジスタ名または番地,c3=レジスタ名または番地 */
    c0=m[p][0]; c1=m[p][1]; c2=m[p][2]; c3=m[p][3]
    if (c1 == NUL) {           /* #もしNUL命令ならば */
        ;                      /* #なにもしない。 */
        }
/* 実行命令 */               
    if (c1 == READ) {               /* #もしREAD命令ならば */
        if (c2 == A) {              /* #もしレジスタAならば */
            rega = m[c3][2];        /* #指定番地の値をレジスタAに読み込む。 */
        } else if (c2 == B) {       /* #もしレジスタBならば */
            regb = m[c3][2];        /* #指定番地の値をレジスタBに読み込む。 */
        }   
    } else if (c1 == WRITE) {       /* #もしWRITE命令ならば */
        if (c3 == A) {              /* #もしレジスタAならば */
            m[c2][1] = DATA;        /* #指定番地に命令コードDATAの値を書き込む。 */
            m[c2][2] = rega;        /* #指定番地にレジスタAの値を書き込む。 */
        } else if (c3 == B) {       /* #もしレジスタBならば */
            m[c2][1] = DATA;        /* #指定番地に命令コードDATAの値を書き込む。 */
            m[c2][2] = regb;        /* #指定番地にレジスタBの値を書き込む。 */
        }
    } else if (c1 == ADD ) {        /* #もしADD命令ならば */
        if (c2 == A) {              /* #もしレジスタAならば */
            rega = rega + m[c3][2]; /* #レジスタAの値に指定番地の値を足したものをレジスタAに代入する。 */
            flagset(rega);          /* #関数flagsetを呼び出す。 */
        } else if (c2 == B) {       /* #もしレジスタBならば */
            regb = regb + m[c3][2]; /* #レジスタBの値に指定番地の値を足したものをレジスタBに代入する。 */
            flagset(regb);          /* #関数flagsetを呼び出す。 */
        }
    } else if (c1 == SUB) {         /* #もしSUB命令ならば */
        if (c2 == A) {              /* #もしレジスタAならば */
            rega = rega - m[c3][2]; /* #レジスタAの値から指定番地の値を引いたものをAレジスタに代入する。 */
            flagset(rega);          /* #関数flagsetを呼び出す。 */
        } else if (c2 == B) {       /* #もしレジスタBならば */
            regb = regb - m[c3][2]; /* #レジスタBの値から指定番地の値を引いたものをBレジスタに代入する。 */
            flagset(regb);          /* #関数flagsetを呼び出す。 */
        }
    }          
/* # JNZ Jump Not Zero 演算結果が0でなければジャンプする。 */
/* # 直前の演算結果が0ならば regfに1がセットされている。 */
    if (c1 == JNZ) {                /* #もしJNZ命令ならば */
        if (regf != 1) {            /* #もしフラグレジスタの値が1でなければ */
            p = c2;                 /* #プログラムカウンタに指定番地を代入する。 */
        } else {                    /* #そうでなければ */
            p = p + 1;              /* #プログラムカウンタに１を足したものをプログラムカウンタに代入する。 */
        }
    } else {                        /* #そうでなければ */
        p = p + 1;                  /* #プログラムカウンタに１を足したものをプログラムカウンタに代入する。 */
            }
    memdump(m);     
}
memdump(m);
}
/* #メモリーの内容を表示する関数（メモリダンプ） */
function memdump(x){
    msg="PC= "+p+" A= "+rega+" B= "+regb+" F= "+regf+"\n";
    for(let i=0; i < x.length; i++ ){
        for(let j=0; j < 4; j++ ){
            msg=msg+x[i][j]+" ";
            }
        msg=msg+"| "
        if ( i%5 == 0 ) {
             msg=msg+"\n" ;    /* キーボードの\（バックシュラッス）￥ではなく　*/
        }
    }
    window.alert(msg);
}   
/* #演算結果が0ならばフラグレジスタに1を代入する。それ以外は0を代入する。*/
function flagset(x){
/*    global regf */
    if (x == 0) {
        regf = 1;
    } else {
        regf = 0;
    }
}
/* #レジスタの内容を表示する関数 */
function regdump(){
/*    global p; rega; regb; regf */
window.alert("プログラムカウンタ= "+p+" レジスタA= "+rega+" レジスタB= "+regb+" フラグレジスタ= "+regf)
}
</script>
</body>
</html>
