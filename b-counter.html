<center>
  <h1>2進数カウンタ</h1>
  <h1 id="hyouji2">********</h2>
  <h1 id="hyouji">********</h1>
  <table id="LedTbl" border="1">
    <tr>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <tr>
      <td><img src="LedOff.jpg" width="50"></td>
      <td><img src="LedOff.jpg" width="50"></td>
      <td><img src="LedOff.jpg" width="50"></td>
      <td><img src="LedOff.jpg" width="50"></td>
      <td><img src="LedOff.jpg" width="50"></td>
      <td><img src="LedOff.jpg" width="50"></td>
      <td><img src="LedOff.jpg" width="50"></td>
      <td><img src="LedOff.jpg" width="50"></td>
    </tr>
    <tr>
      <td><br><input type="button" id="pushuButton8" value="ｂ８"><br><br></td>
      <td><input type="button" id="pushuButton7" value="ｂ７"></td>
      <td><input type="button" id="pushuButton6" value="ｂ６"></td>
      <td><input type="button" id="pushuButton5" value="ｂ５"></td>
      <td><input type="button" id="pushuButton4" value="ｂ４"></td>
      <td><input type="button" id="pushuButton3" value="ｂ３"></td>
      <td><input type="button" id="pushuButton2" value="ｂ２"></td>
      <td><input type="button" id="pushuButton1" value="ｂ１"></td>
    </tr>
    <tr>
      <td>128</td>
      <td>64</td>
      <td>32</td>
      <td>16</td>
      <td>8</td>
      <td>4</td>
      <td>2</td>
      <td>1</td>
    </tr>
  </table>
  <br><br>
  <input type="button" id="pushuButtonRst" value="ＲＥＳＥＴ">
  <input type="button" id="pushuButtonUp" value="ＵＰ">
  <input type="button" id="pushuButtonDown" value="ＤＯＷＮ">

  </center>
  
  <script>
  LedTbl.style.textAlign = "center";
  LedTbl.style.verticalAlign = "middle";
  window.onload = function(){
    i = 0;
    DSP(i);
  }
  </script>
  
  <script>
    pushuButton1.onclick = function(){
      if(D2BX(i,0)==1){
        i = i - 1;
      }else{
        i = i + 1;
      }
      DSP(i);    
    }
    pushuButton2.onclick = function(){
      if(D2BX(i,1)==1){
        i = i - 2;
      }else{
        i = i + 2;
      }
      DSP(i);    
    }
    pushuButton3.onclick = function(){
      if(D2BX(i,2)==1){
        i = i - 4;
      }else{
        i = i + 4;
      }
      DSP(i);    
    }
    pushuButton4.onclick = function(){
      if(D2BX(i,3)==1){
        i = i - 8;
      }else{
        i = i + 8;
      }
      DSP(i);    
    }
    pushuButton5.onclick = function(){
      if(D2BX(i,4)==1){
        i = i - 16;
      }else{
        i = i + 16;
      }
      DSP(i);    
    }
    pushuButton6.onclick = function(){
      if(D2BX(i,5)==1){
        i = i - 32;
      }else{
        i = i + 32;
      }
      DSP(i);    
    }
    pushuButton7.onclick = function(){
      if(D2BX(i,6)==1){
        i = i - 64;
      }else{
        i = i + 64;
      }
      DSP(i);    
    }
    pushuButton8.onclick = function(){
      if(D2BX(i,7)==1){
        i = i - 128;
      }else{
        i = i + 128;
      }
      DSP(i);    
    }
    pushuButton1.onclick = function(){
      if(D2BX(i,0)==1){
        i = i - 1;
      }else{
        i = i + 1;
      }
      DSP(i);    
    }
    pushuButtonRst.onclick = function(){
      i = 0;
      DSP(i);
    }
    pushuButtonUp.onclick = function(){
      i = i + 1;
      if(i>255){
        i=0;
       }
       DSP(i); 
    }
    pushuButtonDown.onclick = function(){
      i = i - 1;
      DSP(i);
    }
  </script>
  
  <script>
    function DSP(x){
      D=D2B(x);
      TX="";
      for(j=0; j<8; j++){
        TX=TX+D[j]
      }
      hyouji.innerHTML = TX;
      hyouji2.innerHTML = x;
      DSP_LED(D2B(x));
    }
  </script>
  
  <script>
    function D2B(x) {
      a=[];
      b=[];
        for(j=0; j<8; j=j+1){
          a[j]=x%2
          x = Math.floor(x/2);
        }
        for(k=0; k<8; k=k+1){
          b[7-k]=a[k];
        }
       return b;
    }
  </script>
  
  <script>
    function DSP_LED(c){
      r=1; n=0;
      for(k=0; k<8; k++){
        LedTbl.rows[n].cells[k].innerHTML= c[k] ;
        if (c[k]==1){
          LedTbl.rows[r].cells[k].innerHTML='<img src="LedOn.jpg" width="50">';
        }else{
          LedTbl.rows[r].cells[k].innerHTML='<img src="LedOff.jpg" width="50">';
        } 
      }
    }
  </script>
  
  <script>
    function D2BX(x,n) {
      a=[];
        for(j=0; j<8; j=j+1){
          a[j]=x%2
          x = Math.floor(x/2);
        }
      return a[n];
    }
  </script>
